image:
  stargate:
    repository: macroadster/stargate-backend
    tag: latest
    pullPolicy: IfNotPresent
  starlight:
    repository: macroadster/starlight-api
    tag: latest
    pullPolicy: IfNotPresent
  postgres:
    repository: postgres
    tag: "15"
    pullPolicy: IfNotPresent
  frontend:
    repository: macroadster/stargate-frontend
    tag: latest
    pullPolicy: IfNotPresent

postgres:
  user: stargate
  password: stargate
  database: stargate
  port: 5432
  storage: 1Gi

stargate:
  storage: postgres
  pgDsn: "postgres://stargate:stargate@stargate-postgres:5432/stargate?sslmode=disable"
  port: 3001
  proxyBase: "http://starlight-api:8080"
  blocksStorage: 1Gi
  storageClass: ""
  ingestToken: ""
  apiKey: "demo-api-key"
  bitcoinNetwork: "mainnet"
  donationAddress: ""
mcp:
  claimTtlHours: 72
  store: postgres  # Enable PostgreSQL storage
  pgDsn: "postgres://stargate:stargate@stargate-postgres:5432/starlight?sslmode=disable"
  seedFixtures: true
  apiKey: ""
  enableIngestSync: true  # Enable ingestion sync
  enableFundingSync: false
  fundingProvider: ""
  fundingApiBase: ""
  ingestSyncInterval: "30s"

starlight:
  port: 8080
  ingestUrl: "http://stargate-backend:3001/api/ingest-inscription"
  ingestToken: ""
  apiKey: "demo-api-key"
  allowAnonymousScan: false
  stegoCallbackUrl: "http://stargate-backend:3001/api/stego/callback"
  stegoCallbackSecret: ""



frontend:
  port: 80

resources:
  stargate:
    requests:
      cpu: 150m
      memory: 384Mi
    limits:
      cpu: 700m
      memory: 768Mi
  starlight:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 1
      memory: 2Gi
  frontend:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  postgres:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

secrets:
  createDefault: false
  name: stargate-stack-secrets
  stargateApiKey: ""
  stargateIngestToken: ""
  starlightApiKey: ""
  starlightIngestToken: ""
  starlightStegoCallbackSecret: ""

hpa:
  backend:
    enabled: false
    minReplicas: 1
    maxReplicas: 3
    targetCPU: 70
  starlight:
    enabled: false
    minReplicas: 1
    maxReplicas: 3
    targetCPU: 70

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    nginx.ingress.kubernetes.io/enable-access-log: "true"
  frontendHost: starlight.local
  backendHost: stargate.local
  tls:
    - secretName: stargate-stack-tls
      hosts:
        - starlight.local
        - stargate.local
