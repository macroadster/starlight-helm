image:
  stargate:
    repository: macroadster/stargate-backend
    tag: latest
    pullPolicy: IfNotPresent
  starlight:
    repository: macroadster/starlight-api
    tag: latest
    pullPolicy: IfNotPresent
  ipfs:
    repository: ipfs/kubo
    tag: "v0.27.0"
    pullPolicy: IfNotPresent
  postgres:
    repository: postgres
    tag: "15"
    pullPolicy: IfNotPresent
  frontend:
    repository: macroadster/stargate-frontend
    tag: latest
    pullPolicy: IfNotPresent

postgres:
  user: stargate
  password: stargate
  database: stargate
  port: 5432
  storage: 1Gi

stargate:
  storage: postgres
  pgDsn: "postgres://stargate:stargate@stargate-postgres:5432/stargate?sslmode=disable"
  port: 3001
  proxyBase: "http://starlight-api:8080"
  blocksStorage: 1Gi
  storageClass: ""
  ingestToken: ""
  apiKey: "demo-api-key"
  bitcoinNetwork: "mainnet"
  donationAddress: ""
  ipfs:
    mirrorEnabled: false
    mirrorUploadEnabled: true
    mirrorDownloadEnabled: true
    apiUrl: "http://stargate-ipfs:5001"
    mirrorTopic: "stargate-uploads"
    mirrorPollIntervalSec: 10
    mirrorPublishIntervalSec: 30
    mirrorMaxFiles: 2000
    httpTimeoutSec: 30
    ingestSyncEnabled: false
    ingestSyncIntervalSec: 60
    ingestSyncManifest: "stargate-uploads-manifest.json"
    ingestSyncMaxEntries: 5000
    stegoTopic: "stargate-stego"
    stegoAnnounceEnabled: true
    stegoSyncEnabled: true
    stegoSyncIntervalSec: 10
  stego:
    approvalEnabled: false
    method: "lsb"
    issuer: ""
    ingestTimeoutSec: 30
    ingestPollSec: 2
    inscribeTimeoutSec: 60
    scanTimeoutSec: 30

ipfs:
  enabled: true
  enablePubsub: true
  apiPort: 5001
  gatewayPort: 8080
  swarmPort: 4001
  storage: 5Gi
  storageClass: ""
mcp:
  claimTtlHours: 72
  store: postgres  # Enable PostgreSQL storage
  pgDsn: "postgres://stargate:stargate@stargate-postgres:5432/starlight?sslmode=disable"
  seedFixtures: true
  apiKey: ""
  enableIngestSync: true  # Enable ingestion sync
  enableFundingSync: true
  fundingProvider: "blockstream"
  fundingApiBase: ""
  ingestSyncInterval: "30s"

starlight:
  port: 8080
  ingestUrl: "http://stargate-backend:3001/api/ingest-inscription"
  ingestToken: ""
  apiKey: "demo-api-key"
  allowAnonymousScan: false
  stegoCallbackUrl: "http://stargate-backend:3001/api/stego/callback"
  stegoCallbackSecret: ""



frontend:
  port: 80

resources:
  stargate:
    requests:
      cpu: 150m
      memory: 384Mi
    limits:
      cpu: 700m
      memory: 768Mi
  starlight:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 1
      memory: 2Gi
  ipfs:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  frontend:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  postgres:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

secrets:
  createDefault: false
  name: stargate-stack-secrets
  stargateApiKey: ""
  stargateIngestToken: ""
  starlightApiKey: ""
  starlightIngestToken: ""
  starlightStegoCallbackSecret: ""

hpa:
  backend:
    enabled: false
    minReplicas: 1
    maxReplicas: 3
    targetCPU: 70
  starlight:
    enabled: false
    minReplicas: 1
    maxReplicas: 3
    targetCPU: 70

ingress:
  enabled: false
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    nginx.ingress.kubernetes.io/enable-access-log: "true"
  frontendHost: starlight.local
  backendHost: stargate.local
  tls:
    - secretName: stargate-stack-tls
      hosts:
        - starlight.local
        - stargate.local

# Custom CA certificate.
# Provide the base64-encoded CA certificate content here.
# For example:
# ca:
#   crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...
ca:
  crt: ""
